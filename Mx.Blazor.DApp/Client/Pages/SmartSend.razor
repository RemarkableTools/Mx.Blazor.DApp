@page "/"
@implements IDisposable

<div class="container">
    @if (!WalletConnected)
    {
        <div class="d-flex flex-column justify-content-center my-5">
            <h3 class="text-center mb-4">Please connect to a wallet</h3>
            <div class="btn btn-primary btn-lg px-4 mx-auto" data-bs-toggle="modal"
                 data-bs-target="#WalletConnectionsModal">Login
            </div>
        </div>
    }
    else
    {
        <div class="d-flex flex-column p-4 panel mx-auto mw-900 mb-5">
            <div class="d-flex align-items-center mb-2">
                <i class="bi bi-chevron-right me-1"></i>
                <span class="fw-600 fs-3">Smart Send</span>
            </div>
            <div class="d-flex flex-column justify-content-center mt-4">
                <label for="inputMessage" class="crs-default fs-5 ms-1 mt-2 mb-3">Ask the Agent</label>
                <textarea id="inputMessage" class="form-control font-monospace list w-100 mb-1" rows="10"
                          placeholder="Your message..." @bind="InputMessage"></textarea>
                <div class="d-flex justify-content-start mt-3">
                    @if (!_loading)
                    {
                        <button class="btn btn-primary get-btn" @onclick="SubmitRequest">Submit request</button>
                    }
                    else
                    {
                        <button class="btn btn-outline-light border-0 get-btn fs-5" disabled @onclick="SubmitRequest">Agent is thinking...</button>
                    }
                </div>
            </div>
        </div>
    }
</div>